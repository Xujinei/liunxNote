## Linux 简介

1. Linux 的引用领域
   1. 基于Linux的企业服务器
   2. 嵌入式领域
2. windows 与 Linux的区别
   1. Linux
      - 严格区分大小写
      - Linux中所有内容（排除临时的）以文件形式存在，包括硬件
      - Linux 不存在扩展名，不依靠扩展名区分文件类型，依靠权限来区分文件类型
      - windows下的程序不能直接在Linux中安装和运行
      - Linux字符界面的优势：
        - 字符界面占用的系统资源更少
        - 字符界面减少出错和被攻击的可能性

## Linux安装

1. **虚拟机 ： VMware** 

   1. 特点：
      - 不需要区分或重新开机就能在同一台pc上使用两种以上的操作系统
      - 本机系统可以与虚拟机系统网络通信
      - 可以设定和修改虚拟机操作系统的硬件环境（不能操作真实机的一半）

2. **虚拟机 VMware的使用** 

   1. 新增空的虚拟机 尚未安装操作系统

3. **系统分区与格式化** 

   1. 概念 ： 逻辑上将硬盘划分成几个不同的存储空间，用于存储不同的数据

   2. 分区规则：

      1. 主分区：最多只能有4个，由硬盘结构决定。
      2. 扩展分区
         - 最多只能有一个
         - 主分区加扩展分区最多只能有4个
         - 不能写入数据，只能包含逻辑分区

   3. 分区的作用

      - 提高读写效率

   4. 格式化

      1. 概念：又称为逻辑格式化。 其目的不是清空数据。而是写入文件系统，更好的查找数据。
      2. 作用：
         1. 清空分区。（不能在有数据的分区中进行划分，所以需要清空分区）
         2. 将分区分成等大小的数据块，默认数据块大小是4kb
         3. 在分区列表中建立二维表格，记录文件的修改时间，权限、数据保存位置等信息，从而达到优化查找，存储的目的。

   5. Linux 中的分区操作

      1. 步骤 ：

         - 分区：把大硬盘分为小的逻辑分区

         - 格式化 ：写入文件系统

         - 给每个分区取名 （设备文件名） 

           ![Linux中设备对应文件名](G:\note\2-linux\Linux中设备对应文件名.png)

         - 给分区分配盘符 （Linux 中称为 **挂载**）

           - 必须分区： （/ [根分区] 、 swap分区[交换分区，虚拟内存，建议分配大小为内存的2倍]）
           - 推荐分区 ：（/boot [启动分区，推荐200MB]）

   6. **Linux安装** 

      1. 学习视频 ： url[http://www.xitongzhijia.net/linux/201603/69290.html]
      2. 大概步骤
         1. 选择磁盘镜像（cd/dvd）
         2. 安装设置
            - 语言选择、时区选择
            - 设置密码
            - 选择自定义布局
         3. 分配空间(挂载)
         4. 格式化
         5. 将系统写入磁盘
         6. 安装
         7. 引导安装

   7. **XShall的安装与使用**

      1. setup工具：远程Linux管理工具

   8. ​


### Linux的使用

1. **Linux的常用命令**
   1. Linux命令的基本格式：命令 【选项】【参数】

   2. 常用命令
      1. **ls 【选项】【文件或目录】 ** ： 用于查询目录中内容
         - 选项：多个选项可以组合选择如，ls -al 查看所有文件的详细信息
           - -a  ：显示所有文件，包括隐藏文件
           - -l  ： 显示详细信息       ： ll 命令  相当于 ls -l
           - -d   ： 查看目录属性
           - -h    : 显示文件大小
           - -i    ： 显示inode

      2. **目录处理命令** 
         1. 建立目录 ：**mkdir 【-p】 目录名** 
            - -p ： 建立递归目录
         2. 切换目录 ： **cd 【目录】**
            - cd ~ : 进入家目录
            - cd - ： 进 入上次访问目录
            - cd .. : 进入 上一级目录
            - cd 【目录】 tab键 ：查看目录下的所有目录
         3. 删除**空**目录： **rmdir 【目录名】**
         4. 删除目录或文件： **rm 【文件名】**
            1. -f ： 强制删除，不带提示
            2. -r ： 删除目录
         5. 复制名 ：**cp  【选项】【源文件或目录】 【目标目录】【新文件名】**
            1. -r ： 复制目录
            2. -p ： 带文件属性复制
            3. -d ：若源文件是连接文件，则复制链接属性
            4. -a ：相当于 -pdr
         6. 剪切 ：**mv 【选项】【源文件或目录】 【目标目录】 ** ：如果源文件与目标目录在同一个目录就是重命名操作。

      3. **Linux常见一级目录** 
         1. / 根目录 
         2. bin 目录 ： 保存系统命令
         3. sbin目录 ： 保存系统命令
         4. boot 目录 ： 保存启动数据
         5. dev目录 ： 特殊文件保存目录如硬件文件
         6. etc 目录： 保存系统默认配置文件
         7. home 目录： 普通用户目录
         8. lib 目录：Linux中的函数库目录
         9. root 目录： 超级用户的家目录
         10. tmp目录 ：临时目录
         11. usr 目录： 系统软件资源目录
         12. var 目录 ：保存系统可变文档目录

      4. **Linux 链接命令 ** ： ln
         1. 语法 ： ln -s [原文件]   【目标文件】
         2. 作用：生成链接文件 ， -s 表示生成软链接，建议使用软链接
         3. 硬链接： 指向相同的I节点和存储块，通过i 节点进行识别 ， 相当于一个文件的两个不同的进入，不能夸分区，对目录无效，只对文件有效，删除任何一个文件，只有还有一个文件存在就任然可以使用。
         4. 软链接 ： 类似于window的快捷方式，拥有自己的I节点和存储块，但是数据块中存储的是原文件的i节点和数据，删除原文件，软链接不可用，目标文件的修改，原文件也会随之修改。

      5. **Linux 文件搜索命令**
         1. locate命令：
            - 语法 ： locate 文件名
            - 概述 ：搜索的是后台的数据库，速度较快，但数据库不是实时更新的，默认一天一更新，所以新文件是在新建后的一天内是不能找到的，除非更新数据库  ，使用 updatedb 命令 ，强制更新数据库
            - 补充locate 默认搜索规则
         2. find命令
            - 语法 ：find 【搜索范围】【搜索条件】
            - 搜索范围 ： 
              - 尽量避免大范围搜索
            - 搜索条件
              - 通配符 ： * （匹配任意个字符） 、 ？（匹配一个字符）、[] (匹配方括号中的一个字符或)
              - -iname ： 不区分文件名的大小写
              - -user ： 根据所有者搜索文件
              - -nouser ： 搜索没有所有者的文件
              - -atime ：根据文件访问时间搜索，  + n（表示n天前）、-n（表示n天内） 、 n（表示n天当天）
              - -ctime ：根据改变文件属性时间搜索
              - -mtime ： 根据修改文件内容时间搜素
              - -size ：根据文件大小搜索 ，文件大小的单位有 （k，M） 严格区分大小写
              - -inum ： 根据i节点查找文件
              - -a ： and 逻辑与
              - -o ： or 逻辑或
              - -exec [ 命令2] {} \ : 查找出的结果让命令进行处理 
         3. 搜索系统命令的命令 whereis、which
            - 语法 ：whereis 【-b -m】 命令 ： 可查看命令的所在位置
            - -b ： 只查找可执行文件
            - -m ： 只查找帮助文件
            - which 语法 ： which 命令 ： 可查看命令的位置，如果有命令别名可查看别名
         4. grep命令 ： 在指定文件中搜索符合条件的字符串行
            - 语法 ： grep [选项] 字符串 文件名
            - 选项 ： -i（忽略大小写） 、 -v（排除指定字符串）

      6. **帮助命令** 

         1. man命令： 获取指定命令的帮助

            - 语法 ： man 【选项】 需要查看帮助的命令

            - man的帮助级别

              ![man命令级别](G:\note\2-linux\man命令级别.png)

            - 查看命令拥有的的级别 ：`man` -f  命令 、`whatis命令`

            - 根据关键词查看所有包含该关键字的帮助信息 ： `man -k 关键字` 

         2. 其他帮助命令

            1. `--help` : 获取命令的选项帮助
               - 语法 ： 命令 --help
            2. `help shell内部命令` ： 获取内部命令的帮助
               - 判断一个命令是否是内部命令 ： `whereis 命令` 如果没有可执行文件就是内部命令
            3. `info 命令`: 获取命令的详细帮助文档
               - `- 回车` ： 进入子帮助页面
               - `-u` : 进入上层页面
               - `-n` : 进入下一个帮助小节
               - `-p` ： 进入上一个帮助小节
               - `-q` : 退出

      7. **压缩命令**

         1. `.zip 格式压缩`  ： 压缩目录，压缩文件
            -  压缩格式 ： zip 【-r】 压缩文件名 源文件    （-r表示压缩目录）
            -  解压缩格式 ： nuzip 压缩文件
         2. `.gz 格式压缩 ` ： 该格式压缩完，源文件消失，如果压缩目录，会将目录中的各个文件压缩，而不会把目录压缩
            - 压缩格式 ： gzip 【-r】 源文件 （-r 表示压缩目录）
            - 解压缩 ： gzip -d 压缩文件 、gunzip 压缩文件
         3. `.bz2格式压缩`  ： 不可以压缩目录
            - 压缩格式 ：  bzip2 【-k】 源文件  （-k 保留源文件）
            - 解压缩 ：  bzip2 -d 压缩文件 、 bunzip2 压缩文件
         4. 打包命令 tar  ： 用于解决目录不能被压缩的问题
            - 打包格式 ： tar -cvf  打包目录名  源目录
            - 解打包 ： tar -xvf 打包目录名
            - .bz2格式压缩目录格式 ： tar -jcvf  压缩包名.tar.bz2  源文件   （压缩为 .tar.bz2格式）
            - .bz2格式解压缩目录格式 ： tar -jxvf   压缩包名.tar.bz2
            - .gz 格式压缩目录格式 ： tar -zcvf   压缩包名.tar.gz   源文件
            - .gz 格式解压缩目录 ： tar -zxvf  压缩文件名.tar.gz

      8. **关机和重启命令**

         1. shutdown命令格式 ： shutdown [选项] 时间
            1. 选项： 
               - -c ： 取消前一个关机命令
               - -r ： 重启
               - -h ： 关机
         2. 其他关机命令 ： 以下关机命令不建议使用，在关机时不会保存现有操作记录
            1. `halt`
            2. `poweroff`
            3. `init 0`
         3. 其他重启命令 ： 
            1. `reboot`
            2. `init 6`
         4. 查询系统运行级别命令 ： `runlevel` 显示结果为 ： 上次运行级别  当前运行级别 
         5. 退出登录命令 ： `logout`

      9. **其他常用命令**

         1. 挂载命令 ： `mount`  #查看系统中挂载好的目录
            - 挂载 ： 相当于 windows 中的分配盘符，但是Linux中不叫盘符，叫挂载点
         2. 依据配置文件/etc/fstab的内容自动挂载 ： mount -a 
         3. 挂载命令格式 ： mount [-t 文件系统]【-o 特性选项】设备文件名 挂载点
         4. 挂载光盘
            1. 步骤：
               - 建立挂载点 ： mkdir  /mnt/cdrom 
               - 挂载光盘 ：  mount [-t 文件系统]【-o 特性选项】设备文件名 挂载点
               - 卸载 ： umount  设备文件名或挂载点 
         5. 查看系统中已识别硬盘 ：fdisk -l
         6. 用户登录查看命令
            1. w ： 查看用户登录信息
            2. who ： 查看用户登录信息，显示 输出 ： 用户名 、 登录终端 、 登录时间（登录来源ip地址）
            3. last ： 查询当前登录和过去登录的用户信息记录 ，显示输出 ： 用户名 ， 登录终端，登录时间 ， 退出时间
            4. lastlog ： 记录系统中所有用户的最后一次登录情况
         7. 打印所有环境变量  ： *printenv*

2. **shell 基础** 

   1. **概述**： 是一个命令行解释器，为用户提供向Linux内核发送请求以便运行程序的界面系统以及程序，用户可以用shell来启动，挂起，停止甚至是编写一些程序。shell还是一个功能强大的编译语言，易编写，易调试，灵活性比较强，是解释执行的脚本语言，在shell中可以直接调用Linux的系统命令。

   2. **shell脚本执行方式 **：
      1. echo 输出命令 ： 将指定内容输出 
         - 格式 ： echo [ 选项] 输出内容 
         - -e ： 表示允许输出内容中有转义字符,用于调整数据格式![echo命令中的转义字符](E:\note\linux\myNote\echo命令中的转义字符.png)
         - 支持颜色显示 ： 开启颜色显示 \e[1;31m         关闭颜色显示 \e[0m          31m代表一种颜色![echo输出支持的颜色](E:\note\linux\myNote\echo输出支持的颜色.png)
      2. 执行脚本
         1. 通过base 调用 ：`base 脚本名`
         2. 赋予执行权限通过路径调用 ： 
            - `chmod 755 脚本名`
            - 通过相对路径或绝对路径调用脚本
      3. 打开文件 ： 
         - `vi  文件名`
         - `vim  文件名`

   3. **base的基本功能**
      1. 命令别名与快捷键
         1. 查看系统中已有的别名 ： `alias` 
         2. 设置别名 ： `alias   别名  = '实际执行命令'`
         3. 删除别名（只是临时删除，下次登录还会有） ：` unalias 别名`
         4. 常用快捷键：![shell常用快捷键](E:\note\linux\myNote\shell常用快捷键.png)

            ​

      2. 历史命令

         1. 查看历史命令 ：` history  【选项】 【历史命令保存文件】`
            - 选项 
              - -c : 清空历史命令
              - -w ： 把缓存中的历史命令强制写入历史命令保存文件 ~/.base_history  [该文件保存所有正确执行并退出的历史命令]
         2. 执行历史记录
            - 执行历史中的第n调记录 ： `！n`
            - 执行上一条命令 ：`！！`
            - 执行最后一条该字符串开头的命令 ： `！字符串`

      3. 输出重定向 ：

         - 以覆盖的方式保存正确命令结果 : `命令 > 结果保存文件`
         - 以追加的方式保存正确命令结果 ： `命令 >> 结果保存文件`
         - 以覆盖的方式保存错误命令结果 ： `错误命令   2>结果保存文件`
         - 以追加的方式保存错误命令结果 ： `错误命令 2>>结果保存文件`
         - 以覆盖的方式将正确、或者错误的命令保存到同一个文件 ： `命令 > 结果保存文件 2>&1` 、` 命令 &> 结果保存文件`
         - 以追加的方式将正确或者错误的命令保存到同一个文件 ： `命令 >> 结果保存文件  2>&1`、`命令 &>> 结果保存文件`
         - 将正确命令和错误命令分开保存 ：  命令 >> 正确命令结果保存文件 2>>错误命令结果保存文件

      4. 输入重定向：

         - 输入统计命令 ： `wc [选项] [文件名]`
         - 选项 
           -  -c ：统计字节数
           - -w ： 统计单词数
           - -l ： 统计行数
         - 输入重定向命令 （将指定文件作为命令的输入参数）： `命令 < 文件名`

      5. 管道符

         1. 多命令顺序执行![多命令顺序执行](E:\note\linux\myNote\多命令顺序执行.png)
         2. 管道符号  （命令1的输出结果作为命令2的操作数据）
            - 格式 ： 命令1    |     命令2

      6. 通配符

         1. ​

            ![通配符](E:\note\linux\myNote\通配符.png)

         2. 特殊符号![特殊符号](E:\note\linux\myNote\特殊符号.png)

            ​

      ## 常用命令

      1. 查看日志常用命令
         1. tail -fn 行数 日志文件 ： 实时查看日志后多少行日志
         2. tail -n +行数 日志文件 ： 显示多少行后的所以日志
         3. head 和 tail相符，从头部开始查起
         4. more :分页显示
         5. grep "关键字" 文件 
         6. grep -n "关键字" 文件 ： 查看匹配日志的前后n行
      2. 修改文件
         1. i
         2. 保存修改退出：wq

      3. 切换用户
         1. sudo -iu userName








[学习网址](https://www.imooc.com/video/4020) 